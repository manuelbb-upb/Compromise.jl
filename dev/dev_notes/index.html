<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>(Dev) Notes · Compromise.jl</title><meta name="title" content="(Dev) Notes · Compromise.jl"/><meta property="og:title" content="(Dev) Notes · Compromise.jl"/><meta property="twitter:title" content="(Dev) Notes · Compromise.jl"/><meta name="description" content="Documentation for Compromise.jl."/><meta property="og:description" content="Documentation for Compromise.jl."/><meta property="twitter:description" content="Documentation for Compromise.jl."/><meta property="og:url" content="https://manuelbb-upb.github.io/Compromise.jl/dev_notes/"/><meta property="twitter:url" content="https://manuelbb-upb.github.io/Compromise.jl/dev_notes/"/><link rel="canonical" href="https://manuelbb-upb.github.io/Compromise.jl/dev_notes/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Compromise.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../README/">README</a></li><li><a class="tocitem" href="../stopping/">Stopping Criteria</a></li></ul></li><li class="is-active"><a class="tocitem" href>(Dev) Notes</a><ul class="internal"><li><a class="tocitem" href="#Function-Signatures"><span>Function Signatures</span></a></li><li><a class="tocitem" href="#Medium-Priority-To-Do&#39;s"><span>Medium-Priority To-Do&#39;s</span></a></li></ul></li><li><span class="tocitem">Interfaces</span><ul><li><a class="tocitem" href="../CompromiseEvaluators/">Module <code>CompromiseEvaluators</code></a></li><li><a class="tocitem" href="../mop/">AbstractMOP Interface</a></li><li><a class="tocitem" href="../models/">AbstractMOPSurrogate Interface</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>(Dev) Notes</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>(Dev) Notes</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/manuelbb-upb/Compromise.jl/blob/main/docs/src/dev_notes.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Developer-Notes"><a class="docs-heading-anchor" href="#Developer-Notes">Developer Notes</a><a id="Developer-Notes-1"></a><a class="docs-heading-anchor-permalink" href="#Developer-Notes" title="Permalink"></a></h1><h2 id="Function-Signatures"><a class="docs-heading-anchor" href="#Function-Signatures">Function Signatures</a><a id="Function-Signatures-1"></a><a class="docs-heading-anchor-permalink" href="#Function-Signatures" title="Permalink"></a></h2><p>For utility functions with few arguments, we try to keep to the Julia convention of appending an exclamation mark, if a method modifies some  of its arguments, and place those arguments first.</p><p>However, some more complicated functions essential to the algorithm,  like <code>do_iteration</code>, <code>do_restoration</code>, <code>compute_normal_step</code> and <code>compute_descent_step</code>,  can require a multitude of arguments and keeping the correct order during development proves difficult. That is why in this case we use the standard signature</p><pre><code class="language-julia hljs">function algo_function(
    # iteration information
    it_index, Δ, it_stat,
    # objects to evaluate objectives, models and constraints
    mop, mod, scaler, lin_cons, scaled_cons,
    # caches for necessary arrays
    vals, vals_tmp, step_vals, mod_vals, 
    # other important building blocks
    filter,     # the filter used to drive feasibility
    step_cache, # an object defining step calculation and holding caches
    algo_opts;  # general algorithmic settings
    # then follow custom keyword arguments …
    custom_kwarg1, kwargs...
)
    # Function Body
end</code></pre><p>We do not use keyword arguments to enable dispatch on custom configuration or cache types, e.g., in the case of <code>compute_descent_step</code>. What arguments are modified, or even guaranteed or required to be modified, should be made clear from docstrings or comments. The compiler does only specialize on function arguments if they are used within in  the function body, but not if they are merely passed through to other functions.</p><h2 id="Medium-Priority-To-Do&#39;s"><a class="docs-heading-anchor" href="#Medium-Priority-To-Do&#39;s">Medium-Priority To-Do&#39;s</a><a id="Medium-Priority-To-Do&#39;s-1"></a><a class="docs-heading-anchor-permalink" href="#Medium-Priority-To-Do&#39;s" title="Permalink"></a></h2><ul><li>Introduce <code>AbstractSurrogateModelConfig</code> to initialize <code>AbstractSurrogateModel</code> based on custom configuration objects instead of their types.</li><li>Make <code>dim_in</code> or <code>num_vars</code> part of the <code>AbstractMOP</code> and <code>AbstractMOPSurrogate</code> interface.</li><li>Add dimension information to <code>AbstractNonlinearOperator</code> and <code>AbstractSurrogateModel</code>.   When this is done, some method signatures concerning initialization and updates can be   simplified. (<code>CTRL-F</code> for <code>dim_in</code>, <code>num_vars</code>, <code>num_out</code>, <code>dim_out</code> etc.)</li><li>In the modelling and DAG framework, switch names and meaning of dependent variables and   states. </li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../stopping/">« Stopping Criteria</a><a class="docs-footer-nextpage" href="../CompromiseEvaluators/">Module <code>CompromiseEvaluators</code> »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Wednesday 7 February 2024 11:58">Wednesday 7 February 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
