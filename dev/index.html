<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Compromise.jl</title><meta name="title" content="Home · Compromise.jl"/><meta property="og:title" content="Home · Compromise.jl"/><meta property="twitter:title" content="Home · Compromise.jl"/><meta name="description" content="Documentation for Compromise.jl."/><meta property="og:description" content="Documentation for Compromise.jl."/><meta property="twitter:description" content="Documentation for Compromise.jl."/><meta property="og:url" content="https://manuelbb-upb.github.io/Compromise.jl/"/><meta property="twitter:url" content="https://manuelbb-upb.github.io/Compromise.jl/"/><link rel="canonical" href="https://manuelbb-upb.github.io/Compromise.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Compromise.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="README/">README</a></li><li><a class="tocitem" href="stopping/">Stopping Criteria</a></li></ul></li><li><a class="tocitem" href="dev_notes/">(Dev) Notes</a></li><li><span class="tocitem">Interfaces</span><ul><li><a class="tocitem" href="CompromiseEvaluators/">Module <code>CompromiseEvaluators</code></a></li><li><a class="tocitem" href="mop/">AbstractMOP Interface</a></li><li><a class="tocitem" href="models/">AbstractMOPSurrogate Interface</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/manuelbb-upb/Compromise.jl/blob/main/docs/src/index.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Compromise"><a class="docs-heading-anchor" href="#Compromise">Compromise</a><a id="Compromise-1"></a><a class="docs-heading-anchor-permalink" href="#Compromise" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/manuelbb-upb/Compromise.jl">Compromise</a>. There is not much here yet. Everything is still very much a work-in-progress.</p><p>Random Doc-Strings:</p><ul><li><a href="#Compromise.AlgorithmOptions"><code>Compromise.AlgorithmOptions</code></a></li><li><a href="#Compromise.MutableMOP"><code>Compromise.MutableMOP</code></a></li><li><a href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>Compromise.NonlinearFunctions.NonlinearParametricFunction</code></a></li><li><a href="#Compromise.ValueArrays"><code>Compromise.ValueArrays</code></a></li><li><a href="#Compromise.add_function!"><code>Compromise.add_function!</code></a></li><li><a href="#Compromise.add_nl_eq_constraints!"><code>Compromise.add_nl_eq_constraints!</code></a></li><li><a href="#Compromise.add_nl_eq_constraints!"><code>Compromise.add_nl_eq_constraints!</code></a></li><li><a href="#Compromise.add_nl_eq_constraints!"><code>Compromise.add_nl_eq_constraints!</code></a></li><li><a href="#Compromise.add_nl_ineq_constraints!"><code>Compromise.add_nl_ineq_constraints!</code></a></li><li><a href="#Compromise.add_nl_ineq_constraints!"><code>Compromise.add_nl_ineq_constraints!</code></a></li><li><a href="#Compromise.add_nl_ineq_constraints!"><code>Compromise.add_nl_ineq_constraints!</code></a></li><li><a href="#Compromise.add_objectives!"><code>Compromise.add_objectives!</code></a></li><li><a href="#Compromise.add_objectives!"><code>Compromise.add_objectives!</code></a></li><li><a href="#Compromise.add_objectives!"><code>Compromise.add_objectives!</code></a></li><li><a href="#Compromise.diff_mod!-Tuple{Any, Any, Any}"><code>Compromise.diff_mod!</code></a></li><li><a href="#Compromise.eval_and_diff_mod!-Tuple{Any, Any, Any}"><code>Compromise.eval_and_diff_mod!</code></a></li><li><a href="#Compromise.eval_mod!-Tuple{Any, Any, Any}"><code>Compromise.eval_mod!</code></a></li><li><a href="#Compromise.lin_cons!-NTuple{4, Any}"><code>Compromise.lin_cons!</code></a></li><li><a href="#Compromise.scale!-Tuple{Any, Compromise.AbstractAffineScaler, Any}"><code>Compromise.scale!</code></a></li><li><a href="#Compromise.scale_eq!-Tuple{Any, Compromise.AbstractAffineScaler, Any}"><code>Compromise.scale_eq!</code></a></li><li><a href="#Compromise.set_linear_constraints!-Tuple{Any, Any, Any, Any, Any, Symbol}"><code>Compromise.set_linear_constraints!</code></a></li><li><a href="#Compromise.unscale!-Tuple{Any, Compromise.AbstractAffineScaler, Any}"><code>Compromise.unscale!</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.NonlinearFunctions.NonlinearParametricFunction" href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>Compromise.NonlinearFunctions.NonlinearParametricFunction</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NonlinearParametricFunction(; 
    func, grads=nothing, hessians=nothing, 
    func_and_grads=nothing, func_and_grads_and_hessians=nothing,
    backend=nothing,
    func_iip=true, grads_iip=true, hessians_iip=true, 
    func_and_grads_iip=true, func_and_grads_and_hessians_iip=true)</code></pre><p>A flexible function wrapper to conveniently query evaluations and derivatives of user provided functions.</p><p>If the user provided function is used in a derivative-free alogrithm, only <code>func</code> has  to be provided. The flag <code>func_iip</code> indicates its signature: If <code>func_iip==true</code>, the function should mutate the target array and  have signature <code>func!(y, x, p)</code>. Otherwise, <code>y = func(x, p)</code>.</p><p>Should gradients be needed, function handles can be provided, and the respective  flags indicate the following signatures:</p><ul><li><code>grads_iip == true</code> implies <code>grads!(Dy, x, p)</code>, otherwise <code>Dy = grads(x, p)</code>.</li><li><code>hessians_iip == true</code> implies <code>hessians!(H, x, p)</code>, otherwise <code>H = hessians(x, p)</code>.</li><li><code>func_and_grads_iip == true</code> implies <code>func_and_grads!(y, Dy, x, p)</code>,    otherwise <code>y, Dy = func_and_grads(x, p)</code>.</li><li><code>func_and_grads_and_hessians_iip == true</code> implies   <code>func_and_grads_and_hessians!(y, Dy, H, x, p)</code>,    else <code>y, Dy, H = func_and_grads_and_hessians(x, p)</code>.</li></ul><p>Alternatively (or additionally), an <code>AbstractAutoDiffBackend</code> can be passed to  compute the derivatives if the relevant field <code>isnothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/evaluators/NonlinearFunctions.jl#L27-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.AlgorithmOptions" href="#Compromise.AlgorithmOptions"><code>Compromise.AlgorithmOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AlgorithmOptions(; kwargs...)</code></pre><p>Configure the optimization by passing keyword arguments:</p><ul><li><p><code>log_level::Base.CoreLogging.LogLevel</code>: Control verbosity by setting a min. level for <code>@logmsg</code>. Default: LogLevel(0)</p></li><li><p><code>max_iter::Int64</code>: Maximum number of iterations. Default: 500</p></li><li><p><code>stop_delta_min::Float64</code>: Stop if the trust region radius is reduced to below <code>stop_delta_min</code>. Default: eps(Float64)</p></li><li><p><code>stop_xtol_rel::Float64</code>: Stop if the trial point <span>$xₜ$</span> is accepted and <span>$‖xₜ - x‖≤ δ‖x‖$</span>. Default: -Inf</p></li><li><p><code>stop_xtol_abs::Float64</code>: Stop if the trial point <span>$xₜ$</span> is accepted and <span>$‖xₜ - x‖≤ ε$</span>. Default: -Inf</p></li><li><p><code>stop_ftol_rel::Float64</code>: Stop if the trial point <span>$xₜ$</span> is accepted and <span>$‖f(xₜ) - f(x)‖≤ δ‖f(x)‖$</span>. Default: -Inf</p></li><li><p><code>stop_ftol_abs::Float64</code>: Stop if the trial point <span>$xₜ$</span> is accepted and <span>$‖f(xₜ) - f(x)‖≤ ε$</span>. Default: -Inf</p></li><li><p><code>stop_crit_tol_abs::Float64</code>: Stop if for the approximate criticality it holds that <span>$χ̂(x) &lt;= ε$</span> and for the feasibility that <span>$θ &lt;= δ$</span>. Default: eps(Float64)</p></li><li><p><code>stop_theta_tol_abs::Float64</code>: Stop if for the approximate criticality it holds that <span>$χ̂(x) &lt;= ε$</span> and for the feasibility that <span>$θ &lt;= δ$</span>. Default: eps(Float64)</p></li><li><p><code>stop_max_crit_loops::Int64</code>: Stop after the criticality routine has looped <code>stop_max_crit_loops</code> times. Default: 1</p></li><li><p><code>eps_crit::Float64</code>: Lower bound for criticality before entering Criticality Routine. Default: 0.1</p></li><li><p><code>eps_theta::Float64</code>: Lower bound for feasibility before entering Criticality Routine. Default: 0.1</p></li><li><p><code>crit_B::Float64</code>: At the end of the Criticality Routine the radius is possibly set to <code>crit_B * χ</code>. Default: 1000</p></li><li><p><code>crit_M::Float64</code>: Criticality Routine runs until <code>Δ ≤ crit_M * χ</code>. Default: 3000</p></li><li><p><code>crit_alpha::Float64</code>: Trust region shrinking factor in criticality loops. Default: 0.5</p></li><li><p><code>delta_init::Float64</code>: Initial trust region radius. Default: 0.5</p></li><li><p><code>delta_max::Float64</code>: Maximum trust region radius. Default: 2 ^ 5 * delta_init</p></li><li><p><code>gamma_shrink_much::Float64</code>: Most severe trust region reduction factor. Default: 0.1</p></li><li><p><code>gamma_shrink::Float64</code>: Trust region reduction factor. Default: 0.5</p></li><li><p><code>gamma_grow::Float64</code>: Trust region enlargement factor. Default: 2.0</p></li><li><p><code>strict_acceptance_test::Bool</code>: Whether to require <em>all</em> objectives to be reduced or not. Default: true</p></li><li><p><code>nu_accept::Float64</code>: Acceptance threshold. Default: 0.01</p></li><li><p><code>nu_success::Float64</code>: Success threshold. Default: 0.9</p></li><li><p><code>c_delta::Float64</code>: Factor for normal step compatibility test. The smaller <code>c_delta</code>, the stricter the test. Default: 0.7</p></li><li><p><code>c_mu::Float64</code>: Factor for normal step compatibility test. The smaller <code>c_mu</code>, the stricter the test for small radii. Default: 100.0</p></li><li><p><code>mu::Float64</code>: Exponent for normal step compatibility test. The larger <code>mu</code>, the stricter the test for small radii. Default: 0.01</p></li><li><p><code>kappa_theta::Float64</code>: Factor in the model decrease condition. Default: 0.0001</p></li><li><p><code>psi_theta::Float64</code>: Exponent (for constraint violation) in the model decrease condition. Default: 2.0</p></li><li><p><code>scaler_cfg::Symbol</code>: Configuration to determine variable scaling (if model supports it). Either <code>:box</code> or <code>:none</code>. Default: :box</p></li><li><p><code>step_config::Any</code>: Configuration object for descent and normal step computation. Default: SteepestDescentConfig()</p></li><li><p><code>nl_opt::Symbol</code>: NLopt algorithm symbol for restoration phase. Default: :LN_COBYLA</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/types.jl#L48-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.MutableMOP" href="#Compromise.MutableMOP"><code>Compromise.MutableMOP</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MutableMOP(; num_vars, kwargs...)</code></pre><p>Initialize a multi-objective problem with <code>num_vars</code> variables.</p><p><strong>Functions</strong></p><p>There can be exactly one (possibly vector-valued) objective function, one nonlinear equality constraint function, and one nonlinear inequality constraint function. For now, they have to be of type <code>NonlinearFunction</code>. You could provide these functions with the keyword-arguments <code>objectives</code>, <code>nl_eq_constraints</code> or <code>nl_ineq_constraints</code> or set the fields of the same name. To conveniently add user-provided functions, there are helper functions,  like <code>add_objectives!</code>.</p><p><strong>LinearConstraints</strong></p><p>Box constraints are defined by the vectors <code>lb</code> and <code>ub</code>. Linear equality constraints <span>$Ex=c$</span> are defined by the matrix <code>E</code> and the vector <code>c</code>. Inequality constraints read <span>$Ax≤b$</span> and use <code>A</code> and <code>b</code>.</p><p><strong>Surrogate Configuration</strong></p><p>Use the keyword-arguments <code>mcfg_objectives</code> to provide an <code>AbstractSurrogateModelConfig</code> to define how the objectives should be modelled. By default, we assume <code>ExactModelConfig()</code>, which requires differentiable objectives.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L109-L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.ValueArrays" href="#Compromise.ValueArrays"><code>Compromise.ValueArrays</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A struct holding values computed for or derived from an <code>AbstractMOP</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/types.jl#L144">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.add_function!" href="#Compromise.add_function!"><code>Compromise.add_function!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_function!(func_field, mop, op, model_cfg; dim_out, backend=NoBackend())</code></pre><p>Add the operator <code>op</code> to <code>mop</code> at <code>func_field</code> and use model configuration <code>model_cfg</code>. Keyword argument <code>dim_out::Int</code> is mandatory. E.g., <code>add_function!(:objectives, mop, op, :rbf; dim_out=2)</code> adds <code>op</code> as the bi-valued objective to <code>mop</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L224-L231">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.add_nl_eq_constraints!" href="#Compromise.add_nl_eq_constraints!"><code>Compromise.add_nl_eq_constraints!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_nl_eq_constraints!(mop::MutableMOP, func, model_cfg=nothing; 
    dim_out::Int, kwargs...)</code></pre><p>Set function <code>func</code> to return the nonlinear equality constraints vector of <code>mop</code>. Argument <code>model_cfg</code> is optional and specifies the surrogate models for <code>func</code>. Can be <code>nothing</code>, a Symbol (<code>:exact</code>, <code>:rbf</code>, <code>taylor1</code>, <code>taylor2</code>), or an <code>AbstractSurrogateModelConfig</code> object.</p><p>All functions can be in-place, see keyword arguments <code>func_iip</code>.</p><p>Keyword argument <code>dim_out</code> is mandatory and corresponds to the length of the result vector. The other <code>kwargs...</code> are passed to the inner <code>AbstractNonlinearOperator</code> as is. For options and defaults see <a href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>NonlinearParametricFunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L265-L280">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.add_nl_eq_constraints!" href="#Compromise.add_nl_eq_constraints!"><code>Compromise.add_nl_eq_constraints!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_nl_eq_constraints!(mop::MutableMOP, func, grads, func_and_grads, model_cfg=nothing; 
    dim_out::Int, kwargs...)</code></pre><p>Set function <code>func</code> to return the nonlinear equality constraints vector of <code>mop</code>. Argument <code>model_cfg</code> is optional and specifies the surrogate models for <code>func</code>. Can be <code>nothing</code>, a Symbol (<code>:exact</code>, <code>:rbf</code>, <code>taylor1</code>, <code>taylor2</code>), or an <code>AbstractSurrogateModelConfig</code> object. <code>grads</code> should be a function mapping a vector to the transposed jacobian of <code>func</code>, while <code>func_and_grads</code> returns a primal vector and the gradients at the same time.</p><p>All functions can be in-place, see keyword arguments <code>func_iip</code>, <code>grads_iip</code> and  <code>func_and_grads_iip</code>.</p><p>Keyword argument <code>dim_out</code> is mandatory and corresponds to the length of the result vector. The other <code>kwargs...</code> are passed to the inner <code>AbstractNonlinearOperator</code> as is. For options and defaults see <a href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>NonlinearParametricFunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L315-L333">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.add_nl_eq_constraints!" href="#Compromise.add_nl_eq_constraints!"><code>Compromise.add_nl_eq_constraints!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_nl_eq_constraints!(mop::MutableMOP, func, grads, model_cfg=nothing; 
    dim_out::Int, kwargs...)</code></pre><p>Set function <code>func</code> to return the nonlinear equality constraints vector of <code>mop</code>. Argument <code>model_cfg</code> is optional and specifies the surrogate models for <code>func</code>. Can be <code>nothing</code>, a Symbol (<code>:exact</code>, <code>:rbf</code>, <code>taylor1</code>, <code>taylor2</code>), or an <code>AbstractSurrogateModelConfig</code> object. <code>grads</code> should be a function mapping a vector to the transposed jacobian of <code>func</code>.</p><p>All functions can be in-place, see keyword arguments <code>func_iip</code> and <code>grads_iip</code>.</p><p>Keyword argument <code>dim_out</code> is mandatory and corresponds to the length of the result vector. The other <code>kwargs...</code> are passed to the inner <code>AbstractNonlinearOperator</code> as is. For options and defaults see <a href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>NonlinearParametricFunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L292-L308">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.add_nl_ineq_constraints!" href="#Compromise.add_nl_ineq_constraints!"><code>Compromise.add_nl_ineq_constraints!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_nl_ineq_constraints!(mop::MutableMOP, func, model_cfg=nothing; 
    dim_out::Int, kwargs...)</code></pre><p>Set function <code>func</code> to return the nonlinear inequality constraints vector of <code>mop</code>. Argument <code>model_cfg</code> is optional and specifies the surrogate models for <code>func</code>. Can be <code>nothing</code>, a Symbol (<code>:exact</code>, <code>:rbf</code>, <code>taylor1</code>, <code>taylor2</code>), or an <code>AbstractSurrogateModelConfig</code> object.</p><p>All functions can be in-place, see keyword arguments <code>func_iip</code>.</p><p>Keyword argument <code>dim_out</code> is mandatory and corresponds to the length of the result vector. The other <code>kwargs...</code> are passed to the inner <code>AbstractNonlinearOperator</code> as is. For options and defaults see <a href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>NonlinearParametricFunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L265-L280">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.add_nl_ineq_constraints!" href="#Compromise.add_nl_ineq_constraints!"><code>Compromise.add_nl_ineq_constraints!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_nl_ineq_constraints!(mop::MutableMOP, func, grads, func_and_grads, model_cfg=nothing; 
    dim_out::Int, kwargs...)</code></pre><p>Set function <code>func</code> to return the nonlinear inequality constraints vector of <code>mop</code>. Argument <code>model_cfg</code> is optional and specifies the surrogate models for <code>func</code>. Can be <code>nothing</code>, a Symbol (<code>:exact</code>, <code>:rbf</code>, <code>taylor1</code>, <code>taylor2</code>), or an <code>AbstractSurrogateModelConfig</code> object. <code>grads</code> should be a function mapping a vector to the transposed jacobian of <code>func</code>, while <code>func_and_grads</code> returns a primal vector and the gradients at the same time.</p><p>All functions can be in-place, see keyword arguments <code>func_iip</code>, <code>grads_iip</code> and  <code>func_and_grads_iip</code>.</p><p>Keyword argument <code>dim_out</code> is mandatory and corresponds to the length of the result vector. The other <code>kwargs...</code> are passed to the inner <code>AbstractNonlinearOperator</code> as is. For options and defaults see <a href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>NonlinearParametricFunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L315-L333">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.add_nl_ineq_constraints!" href="#Compromise.add_nl_ineq_constraints!"><code>Compromise.add_nl_ineq_constraints!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_nl_ineq_constraints!(mop::MutableMOP, func, grads, model_cfg=nothing; 
    dim_out::Int, kwargs...)</code></pre><p>Set function <code>func</code> to return the nonlinear inequality constraints vector of <code>mop</code>. Argument <code>model_cfg</code> is optional and specifies the surrogate models for <code>func</code>. Can be <code>nothing</code>, a Symbol (<code>:exact</code>, <code>:rbf</code>, <code>taylor1</code>, <code>taylor2</code>), or an <code>AbstractSurrogateModelConfig</code> object. <code>grads</code> should be a function mapping a vector to the transposed jacobian of <code>func</code>.</p><p>All functions can be in-place, see keyword arguments <code>func_iip</code> and <code>grads_iip</code>.</p><p>Keyword argument <code>dim_out</code> is mandatory and corresponds to the length of the result vector. The other <code>kwargs...</code> are passed to the inner <code>AbstractNonlinearOperator</code> as is. For options and defaults see <a href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>NonlinearParametricFunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L292-L308">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.add_objectives!" href="#Compromise.add_objectives!"><code>Compromise.add_objectives!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_objectives!(mop::MutableMOP, func, model_cfg=nothing; 
    dim_out::Int, kwargs...)</code></pre><p>Set function <code>func</code> to return the objectives vector of <code>mop</code>. Argument <code>model_cfg</code> is optional and specifies the surrogate models for <code>func</code>. Can be <code>nothing</code>, a Symbol (<code>:exact</code>, <code>:rbf</code>, <code>taylor1</code>, <code>taylor2</code>), or an <code>AbstractSurrogateModelConfig</code> object.</p><p>All functions can be in-place, see keyword arguments <code>func_iip</code>.</p><p>Keyword argument <code>dim_out</code> is mandatory and corresponds to the length of the result vector. The other <code>kwargs...</code> are passed to the inner <code>AbstractNonlinearOperator</code> as is. For options and defaults see <a href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>NonlinearParametricFunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L265-L280">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.add_objectives!" href="#Compromise.add_objectives!"><code>Compromise.add_objectives!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_objectives!(mop::MutableMOP, func, grads, func_and_grads, model_cfg=nothing; 
    dim_out::Int, kwargs...)</code></pre><p>Set function <code>func</code> to return the objectives vector of <code>mop</code>. Argument <code>model_cfg</code> is optional and specifies the surrogate models for <code>func</code>. Can be <code>nothing</code>, a Symbol (<code>:exact</code>, <code>:rbf</code>, <code>taylor1</code>, <code>taylor2</code>), or an <code>AbstractSurrogateModelConfig</code> object. <code>grads</code> should be a function mapping a vector to the transposed jacobian of <code>func</code>, while <code>func_and_grads</code> returns a primal vector and the gradients at the same time.</p><p>All functions can be in-place, see keyword arguments <code>func_iip</code>, <code>grads_iip</code> and  <code>func_and_grads_iip</code>.</p><p>Keyword argument <code>dim_out</code> is mandatory and corresponds to the length of the result vector. The other <code>kwargs...</code> are passed to the inner <code>AbstractNonlinearOperator</code> as is. For options and defaults see <a href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>NonlinearParametricFunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L315-L333">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.add_objectives!" href="#Compromise.add_objectives!"><code>Compromise.add_objectives!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_objectives!(mop::MutableMOP, func, grads, model_cfg=nothing; 
    dim_out::Int, kwargs...)</code></pre><p>Set function <code>func</code> to return the objectives vector of <code>mop</code>. Argument <code>model_cfg</code> is optional and specifies the surrogate models for <code>func</code>. Can be <code>nothing</code>, a Symbol (<code>:exact</code>, <code>:rbf</code>, <code>taylor1</code>, <code>taylor2</code>), or an <code>AbstractSurrogateModelConfig</code> object. <code>grads</code> should be a function mapping a vector to the transposed jacobian of <code>func</code>.</p><p>All functions can be in-place, see keyword arguments <code>func_iip</code> and <code>grads_iip</code>.</p><p>Keyword argument <code>dim_out</code> is mandatory and corresponds to the length of the result vector. The other <code>kwargs...</code> are passed to the inner <code>AbstractNonlinearOperator</code> as is. For options and defaults see <a href="#Compromise.NonlinearFunctions.NonlinearParametricFunction"><code>NonlinearParametricFunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/simple_mop.jl#L292-L308">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.diff_mod!-Tuple{Any, Any, Any}" href="#Compromise.diff_mod!-Tuple{Any, Any, Any}"><code>Compromise.diff_mod!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Evaluate the model gradients of <code>mod</code> at <code>x</code> and store results in <code>mod_vals::SurrogateValueArrays</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/models.jl#L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.eval_and_diff_mod!-Tuple{Any, Any, Any}" href="#Compromise.eval_and_diff_mod!-Tuple{Any, Any, Any}"><code>Compromise.eval_and_diff_mod!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Evaluate and differentiate <code>mod</code> at <code>x</code> and store results in <code>mod_vals::SurrogateValueArrays</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/models.jl#L156">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.eval_mod!-Tuple{Any, Any, Any}" href="#Compromise.eval_mod!-Tuple{Any, Any, Any}"><code>Compromise.eval_mod!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Evaluate the models <code>mod</code> at <code>x</code> and store results in <code>mod_vals::SurrogateValueArrays</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/models.jl#L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.lin_cons!-NTuple{4, Any}" href="#Compromise.lin_cons!-NTuple{4, Any}"><code>Compromise.lin_cons!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">lin_cons!(residual_vector, prod_cache, constraint_data, x)</code></pre><p>Given a linear constraint <code>A*x .&lt;= b</code> or <code>A*x .== b</code>, compute the product <code>A*x</code> and store  the result in <code>prod_cache</code>, and also compute <code>A*x .- b</code> and store the result in  <code>residual_vector</code>. <code>constraint_data</code> should either be the tuple <code>(A,b)::Tuple{RMat,RVec}</code> or <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/mop.jl#L106-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.scale!-Tuple{Any, Compromise.AbstractAffineScaler, Any}" href="#Compromise.scale!-Tuple{Any, Compromise.AbstractAffineScaler, Any}"><code>Compromise.scale!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Scale <code>ξ</code> and set <code>x</code> according to <code>x = T*ξ + t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/affine_scalers.jl#L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.scale_eq!-Tuple{Any, Compromise.AbstractAffineScaler, Any}" href="#Compromise.scale_eq!-Tuple{Any, Compromise.AbstractAffineScaler, Any}"><code>Compromise.scale_eq!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Make <code>Aξ + b ? 0</code> applicable in scaled domain via <code>A(inv(T)*x - inv(T)*t) + b ? 0</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/affine_scalers.jl#L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.set_linear_constraints!-Tuple{Any, Any, Any, Any, Any, Symbol}" href="#Compromise.set_linear_constraints!-Tuple{Any, Any, Any, Any, Any, Symbol}"><code>Compromise.set_linear_constraints!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">set_linear_constraints!(opt, affine_vec, var_vec, mat, rhs, ctype)</code></pre><p>Add linear (in-)equality constraints to JuMP model <code>opt</code>.</p><ul><li>If <code>ctype</code> is <code>:eq</code>, then the constraints read <code>affine_vec + mat * var_vec .== rhs</code>.</li><li>Otherwise, they read <code>affine_vec + mat * var_vec .&lt;= rhs</code>.</li></ul><p>This helper function returns a JuMP expression for the  matrix-vector-product <code>mat*var_vec</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/descent.jl#L213-L224">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Compromise.unscale!-Tuple{Any, Compromise.AbstractAffineScaler, Any}" href="#Compromise.unscale!-Tuple{Any, Compromise.AbstractAffineScaler, Any}"><code>Compromise.unscale!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Unscale <code>x</code> and set <code>ξ</code> according to <code>ξ = inv(T)*x - inv(T)*t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/manuelbb-upb/Compromise.jl/blob/b6e6d94932eb624329c40ca38321e10595931623/src/affine_scalers.jl#L22">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="README/">README »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 19 January 2024 11:41">Friday 19 January 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
